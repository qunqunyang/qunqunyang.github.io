---
title: vue 单页面微信分享(hash模式)
---

 vue hash模式微信分享时安卓可以正常分享，ios分享的页面始终是打开的第一个页面的问题。

 坑点1： 因为我的项目为单页式应用，并且采用了Vue中的hash模式，因此项目路径中带有#号的部分，微信可能会在其前面加一个？号（不知未来还会不会有变化）。这样当自己拼值时（如“？userId=123”）则需要取第二个问号后的值。之前无论如何都取不到自己拼在路径后的值，复制链接后才发现，微信默默地给加了一个问号和其他参数在其中。

 坑点2： 如果在公众号中浏览一个页面，直接都是由路由跳转的。但浏览者从分享窗口进入后，再去浏览别的页面 在别的页面按照正常路由跳转到其他页面去分享时 始终是首次进入的页面。

#### 以下有两种方法
	1： 使用微信自定义分享
		分享链接 通过获取url赋值


	2： vue单页面跳转的时候

		1） this.$router.push({ name: 'home', params: { userId: wise }})
		
		2） let url = `#/report/BWDaily?hash=${hash}&lang=${this.lang}&type=${this.type}`;
		window.location.href= url;

	
第一种方法： 实践不可用
	
第二种方法： 实践可用。目前还没找到其根本原理。
	


